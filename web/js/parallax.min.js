(function(e){"use strict";e.fn.parallax=function(){function d(t,n,r){if(!Modernizr.csstransforms3d){e(t).css({left:n,top:r})}else{e(t).css(Modernizr.prefixed("transform"),"translate3d("+n+", "+r+", 0)")}}function v(){e(u).find(".paralayer").each(function(){n=e(this).data("paratoplimit");r=e(this).data("parabottomlimit");l=e(this).data("paraspeed");if(o>n&&o<r){var t=0;t=(o-i)/s*l;e(a).css({opacity:1-t*2});var u=t*s;d(this,"0px",u+"px")}else{d(this,"0px","0px");e(a).css({opacity:1})}})}var t=e(this);var n=0;var r=0;var i=0;var s=0;var o=0;var u=e(t).find(".parallax-holder");var a=e(t).find(".fader");var f=0;var l=.5;var c=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};var n=function(){if(o===window.pageYOffset){t(n);return false}else{o=window.pageYOffset;e(window).trigger("parascroll")}t(n)};n()};c();var h=function(){setTimeout(function(){f=e(window).height();e(u).find(".paralayer").each(function(){i=e(this).offset().top;s=e(this).height();n=i-f;if(f>s){p(this)}r=i+s;e(this).data("paratoplimit",n);e(this).data("parabottomlimit",r)})},150)};var p=function(t){e(t).css("height",f+100+"px")};e(window).on("resize",h);e(window).on("parascroll",v)}})(jQuery)